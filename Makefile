##
##  LITEOSTOPDIR=${OSDRV_DIR}/platform/liteos/liteos
##

include $(LITEOSTOPDIR)/config.mk

ARFLAGS = cr

##LITEOS_LD_OPTS

##LOCAL_C_FLAGS="-O2 -fno-pic -fno-aggressive-loop-optimizations -fno-builtin -nostdinc -nostdlib  -fstack-protector --param ssp-buffer-size=4 -mno-unaligned-access -Wnonnull -std=c99 -Wpointer-arith -Wstrict-prototypes -Winvalid-pch -Wno-write-strings -ffunction-sections -fdata-sections -fno-exceptions -fno-omit-frame-pointer -mthumb-interwork -fno-short-enums -Wno-error=misleading-indentation -mcpu=cortex-a7 -mfloat-abi=softfp -mfpu=neon-vfpv4 -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/kernel/include  -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/kernel/extended/cppsupport -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/kernel/extended/dynload/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/kernel/extended/runstop    -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/kernel/extended/scatter -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/kernel/extended/tickless       -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/compat/posix/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/compat/linux/include  -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/fs/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/fs/vfs/include/driver        -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/fs/vfs/include/bcache -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/fs/vfs/include/multi_partition    -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/fs/proc/include  -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/fs/fat/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/net/lwip_sack/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/net/lwip_sack/include/ipv4 -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/net/mac     -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/lib/libc/kernel/uapi/asm-arm -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/lib/libc/arch-arm/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/lib/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/lib/libc/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/lib/libc/kernel/uapi -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/lib/libsec/include       -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/lib/libm/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/lib/zlib/include       -I /opt/hisi-linux/x86-arm/arm-himix100-linux/lib/gcc/arm-linux-androideabi/6.3.0/include    -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/gpio/include            -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/i2c/include         -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/mmc/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/mmc/host -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/mtd/nand/include   -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/mtd/spi_nor/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/random/include     -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/rtc/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/spi/include        -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/usb        -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/base/include        -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/video/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/shell/include      -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/drivers/uart/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/net/telnet/include  -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/platform/cpu/arm/arm-a/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/platform/bsp/board/hi3518ev300/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/platform/bsp/common -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/platform/bsp/common/pm -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/platform/cpu/arm/arm-a/cortex-a7/include -I /home/iotlab/scofield/_workspace/rtos-porting/hi3518-sdk/drv/extdrv/wifi_project/../../../osdrv/platform/liteos/liteos/kernel/base/include"

#-DCMAKE_C_FLAGS=${LITEOS_CFLAGS} 

all:
	export LDFLAGS="${LITEOS_LD_OPTS}"
	rm -rf build/ && \
	mkdir -p build/ && \
	cd build/ && \
	ls && \
	pwd && \
	cmake .. -DCMAKE_TOOLCHAIN_FILE=../cross-los.cmake  -DCMAKE_C_FLAGS="${LITEOS_CFLAGS}" -DCMAKE_INSTALL_PREFIX="/" && \
	make DESTDIR="$(ROOTOUT)" install

clean:
	rm -rf $(OUT)/lib/*.a

.PHONY: all clean
